function doLogin(){var e=$$("input#email").val(),t=$$("input#password").val();app.request.post(baseUrl+"api/loginProcess",{email:e,password:t,_token:jQuery('meta[name="csrf-token"]').attr("content")},function(e){var t=jQuery.parseJSON(e);{if("ok"!=t.status)return $$(".msg-box .alert-content").text(t.status),void $$(".msg-box").show();if(app.popup.close(".popup-login",!0),$$(".page-current").hasClass("page--app-detail")){var a="localhost"!==location.hostname?location.pathname.split("/store")[1]:location.pathname;app.router.navigate(a,{reloadCurrent:!0,ignoreCache:!0})}else $$(".page-current").hasClass("page--user-info")?app.router.navigate("/more-info",{reloadCurrent:!0,ignoreCache:!0}):app.router.back({force:!0,ignoreCache:!0})}})}var baseUrl;baseUrl="localhost"===location.hostname||"192.168.0.139"===location.hostname?"/":"/store/";var routes=[{path:"/more-info",url:baseUrl+"more-info",options:{clearPreviousHistory:!0,ignoreCache:!0}},{path:"/about",url:baseUrl+"about",name:"about"},{path:"/appdetails/:slug",url:baseUrl+"appdetailPages/{{slug}}",options:{ignoreCache:!0}},{path:"/:type",url:baseUrl+"{{type}}",options:{clearPreviousHistory:!0}},{path:"/search",url:baseUrl+"search",options:{clearPreviousHistory:!0}},{path:"/search/:search",url:baseUrl+"search/{{search}}",options:{clearPreviousHistory:!0}},{path:"/:type/:category",url:baseUrl+"{{type}}/{{category}}",options:{clearPreviousHistory:!0}},{path:"(.*)",url:"./pages/404.html"}],$$=Dom7,theme="ios";document.location.search.indexOf("theme=")>=0&&(theme=document.location.search.split("theme=")[1].split("&")[0]);var app=new Framework7({id:"io.framework7.testapp",root:"#app",theme:theme,data:function(){return{user:{firstName:"John",lastName:"Doe"}}},methods:{helloWorld:function(){app.dialog.alert("Hello World!")}},routes:routes,vi:{placementId:"pltd4o7ibb9rc653x14"}}),mainView=app.views.create(".view-main",{url:"/",on:{pageInit:function(){"function"==typeof adjustLayoutForAnnouncement&&adjustLayoutForAnnouncement()}}});app.navbar.show();var swiper=app.swiper.get(".swiper-container");swiper&&swiper.on("slideNextTransitionEnd",function(){$$("img.lazy").trigger("lazy")});var searchbar;!function(e){var t=0,a=!1,n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,r)}catch(e){}var o=function(e){var a=e.target,n=window.innerWidth/window.document.documentElement.clientWidth;if(!(e.touches.length>1||1!==n)){for(;a!==document.body&&a!==document;){var r=window.getComputedStyle(a);if(!r)break;if("INPUT"===a.nodeName&&"range"===a.getAttribute("type"))return;var o=r.getPropertyValue("-webkit-overflow-scrolling"),i=r.getPropertyValue("overflow-y"),s=parseInt(r.getPropertyValue("height"),10),c="touch"===o&&("auto"===i||"scroll"===i),p=a.scrollHeight>a.offsetHeight;if(c&&p){var l=e.touches?e.touches[0].screenY:e.screenY,d=t<=l&&0===a.scrollTop,u=t>=l&&a.scrollHeight-a.scrollTop===s;return void((d||u)&&e.preventDefault())}a=a.parentNode}e.preventDefault()}},i=function(e){t=e.touches?e.touches[0].screenY:e.screenY},s=function(){window.addEventListener("touchstart",i,!!n&&{passive:!1}),window.addEventListener("touchmove",o,!!n&&{passive:!1}),a=!0},c=function(){window.removeEventListener("touchstart",i,!1),window.removeEventListener("touchmove",o,!1),a=!1},p=function(){return a},l=document.createElement("div");document.documentElement.appendChild(l),l.style.WebkitOverflowScrolling="touch";var d="getComputedStyle"in window&&"touch"===window.getComputedStyle(l)["-webkit-overflow-scrolling"];document.documentElement.removeChild(l),d&&s();var u={enable:s,disable:c,isEnabled:p};"undefined"!=typeof module&&module.exports&&(module.exports=u),"function"==typeof e.define?function(e){e("iNoBounce",[],function(){return u})}(e.define):e.iNoBounce=u}(this),jQuery(document).ready(function(e){function t(e){90==window.orientation?$$(".page-current .page-content").addClass("padding-inset-left"):$$(".page-current .page-content").removeClass("padding-inset-left"),-90==window.orientation?$$(".page-current .page-content").addClass("padding-inset-right"):$$(".page-current .page-content").removeClass("padding-inset-right")}function a(e){for(var t=$$(e).scrollTop(),a=$$(e).find(".shrinkable-title:not(.no-shrink)"),n=$$(e).parent().siblings(".navbar"),r=-1,o=0;o<a.length;o++){var i=a[o].offsetTop+a[o].offsetHeight-$$(".page-current .page-content .content")[0].offsetTop-15;t>=i&&(r=o,n.text()!==a[o].innerHTML&&n.find(".center").text(a[o].innerHTML),$$(".page-current").hasClass("page--trending-search")?t>=i+15?$$(".navbar-current .subnavbar").hasClass("hidden")&&$$(".navbar-current .subnavbar").removeClass("hidden"):$$(".navbar-current .subnavbar").hasClass("hidden")||$$(".navbar-current .subnavbar").addClass("hidden"):n.hasClass("no-shadow")&&n.removeClass("no-shadow"))}$$(".page-current").hasClass("page--trending-search")&&!(a.length>0)||-1!==r||n.hasClass("navbar-hidden")||(n.addClass("no-shadow"),app.navbar.hide(),n.find(".center").text(""),!$$(".navbar-current .subnavbar").hasClass("hidden")&&$$(".page-current").hasClass("page--trending-search")&&($$(".navbar-current .subnavbar").addClass("hidden"),$$(".page-current .searchbar").removeClass("hidden")))}function n(e){$$(".subnavbar .searchbar").addClass("app-search"),$$(".navbar-current .center").text("Search"),app.navbar.show(),$$(".navbar-current .subnavbar").removeClass("hidden"),$$(".page-current.page--featured").addClass("no-scroll"),$$(".page-current.page--featured").addClass("no-transition"),searchbar.enable(),searchbar.search(e)}function r(){a(".page--featured.page-current .page-content"),$$(".page-current.page--featured .page-content").on("scroll",function(){a(this)});var e=$$(".page-current .toolbar");if(e.find(".link").removeClass("active"),location.pathname===baseUrl||location.pathname.startsWith(baseUrl+"games"))e.find('.link[href="/games"]').addClass("active");else if(location.pathname.startsWith(baseUrl+"apps"))e.find('.link[href="/apps"]').addClass("active");else if(location.pathname.indexOf(baseUrl+"search")>-1){if(e.find('.link[href="/search"]').addClass("active"),location.search){var t=new URLSearchParams(location.search),r=t.get("term");window.history.pushState("","",("localhost"===location.hostname?"":"/store")+"/search"),setTimeout(function(){n(r)},10)}}else{e.find('.link[href="/more-info"]').addClass("active");var o=$$(".page-current .login-error");if(o.length>0){var i=o.text(),s=app.toast.create({text:i,position:"top",closeTimeout:2e3});s.open()}}}function o(){e(".page-current.page--app-detail .app__itunes-info").ready(function(){var t=e(this).find(".item-content");Array.from(t).forEach(function(e){i(e)})})}function i(t){if(t.clientHeight>50){var a=e(t).find(".item-after")[0];if(!a)return;var n=parseFloat(window.getComputedStyle(a,null).getPropertyValue("font-size"));e(a).css("font-size",n-1+"px"),setTimeout(function(){i(t)})}}function s(e,t){for(var a=0;a<e.length;a++)if(e[a].startsWith(t))return!0;return!1}function c(){var e=$$(".view-main > .navbar");if(1!==e.find(".navbar-inner").length||e.find(".navbar-inner").hasClass("navbar-current")||e.find(".navbar-inner").addClass("navbar-current"),recaptchaLoaded=!1,$$(".page-current").hasClass("page--featured"))r(),u();else{var t=app.views.current.history,a=$$(".page-current").find(".toolbar");if(a.find(".link").removeClass("active"),(t.length>1||"/"!==t[0])&&(t.indexOf("/")>-1||s(t,"/games")?($$(".navbar-current .ios-only").text("Games"),a.find('.link[href="/games"]').addClass("active")):s(t,"/apps")?($$(".navbar-current .ios-only").text("Apps"),a.find('.link[href="/apps"]').addClass("active")):s(t,"/search")&&($$(".navbar-current .ios-only").text("Search"),a.find('.link[href="/search"]').addClass("active"))),$$(".page-current").hasClass("page--app-detail")){if(e.addClass("no-shadow"),o(),1===t.length&&"/"===t[0]){var n=$$(".page-current .app--detail__type").text(),i=$$(".page-current .app--logo img");$$(".navbar-current .left").html('<a href="/'+n+'s" class="link"><i class="icon icon-back"></i><span class="ios-only">'+n.charAt(0).toUpperCase()+n.slice(1)+"s</span></a>"),$$(".navbar-current .center").addClass("image"),$$(".navbar-current .center").html('<img src="'+i.attr("src")+'">'),$$('.page-current .toolbar .link[href="/'+n+'s"]').addClass("active"),i.on("lazy:loaded",function(){$$(".navbar-current .center.image img").attr("src",$$(this).attr("src"))})}else $$(".navbar-previous center").text(""),$$(".navbar-current").append('<div class="center image"><img src="'+$$(".page-current .app--logo img").data("src")+'"></div>'),$$(".navbar-current").append('<div class="right"></div>');$$(".app__description a").addClass("external");var c=app.swiper.get(".page-current .swiper-container");if(c){var p,l,d,h=c.$wrapperEl;h.find(".swiper-slide").on("touchstart",function(e){l=e.changedTouches[0].clientX,d=e.changedTouches[0].clientY}),h.find(".swiper-slide").on("touchend",function(e){var t=e.changedTouches[0].clientX,a=e.changedTouches[0].clientY;l===t&&d===a&&(p=$$(this).data("index"),$$(".page-current").find(".popup-screenshot-trigger").trigger("click"))}),$$(".popup-screenshot").on("popup:open",function(){var e=app.swiper.get(".popup-screenshot .swiper-container");e.slideTo(+p),e.update()}),$$(".popup-screenshot").on("popup:closed",function(){var e=app.swiper.get(".popup-screenshot .swiper-container");e.slideTo(0),e.update()})}}}}function p(e){document.title=e.title+" | iOSGods Non-Jailbroken App Store",e.tags.forEach(function(e){var t=$$('meta[name="'+e.name+'"]');t.length>0?t.attr("content",e.content):$$("head").append('<meta name="'+e.name+'" content="'+e.content+'">')})}function l(e){if("/games"===e)p({title:"Hacked/Tweaked iOS Games",tags:[{name:"description",content:"Showcase the most highlighted games in the iOSGods Non-Jailbroken App Store."},{name:"url",content:location.origin+baseUrl+"games"}]});else if("/apps"===e)p({title:"Modded iOS Apps",tags:[{name:"description",content:"Showcase the most highlighted apps in the iOSGods Non-Jailbroken App Store."},{name:"url",content:location.origin+baseUrl+"apps"}]});else if("/search"===e)p({title:"Trending Searches & Categories",tags:[{name:"description",content:"Search for games and apps by keywords in the iOSGods Non-Jailbroken App Store."},{name:"url",content:location.origin+baseUrl+"search"}]});else if(e.startsWith("/search/")){var t=$$(".page-current.page--category-search .shrinkable-title").text();p({title:t,tags:[{name:"description",content:"Apps for "+t},{name:"url",content:location.origin+("localhost"===location.hostname?"":"/store")+e}]})}else if(e.startsWith("/appdetails")){var a=$$(".page-current .app--detail .title").text();p({title:a,tags:[{name:"description",content:""},{name:"url",content:location.origin+("localhost"===location.hostname?"":"/store")+e}]})}else"/more-info"===e&&p({title:"More",tags:[]})}function d(t){e.get(baseUrl+"api/appSearch/"+t,function(t){t.data;$$(".page-current .page-content .app-list").empty(),t.data.forEach(function(t){var a=e(".page-current .page-content .apps-cloneable.cloneable li").clone(),n="/appdetails/"+t.id+"-"+t.title.toLowerCase().replace(/[^a-zA-Z0-9+]\s+/gi,"").replace(/\s/g,"-");a.find(".app-meta").attr("data-url",n),a.find(".app-icon img").attr("src",t.icon_100),a.find(".app-title strong").text(t.title);var r=t.description?t.description.replace(/(<([^>]+)>)/g,"").replace(/&nbsp;/g,""):"";a.find(".app-title span").text(r&&r.length>15?r.slice(0,15)+"...":r||""),a.find(".download-btn a").attr("data-url",n),e(".page-current .page-content .app-list").append(a),$$(".page-current .page-content .app-list").removeClass("hidden")})})}function u(){var e;setTimeout(function(){searchbar=app.searchbar.create({el:".searchbar",searchContainer:".searchbar-hide-on-search .list",searchIn:".item-title.search-term",on:{search:function(t,a){$$(".page-current .page-content .app-list").hasClass("hidden")||$$(".page-current .page-content .app-list").addClass("hidden"),a&&($$(".page-current.page--featured").addClass("no-scroll"),$$(".page-current.page--featured").addClass("no-transition"),e&&clearTimeout(e),e=setTimeout(function(){d(a)},300))},disable:function(){$$(".navbar-current").hasClass("navbar--search-focused")&&($$(".navbar-current").removeClass("navbar--search-focused"),$$(".page-current.page--featured").removeClass("page--search-focused")),$$(".page-current.page--featured").hasClass("no-scroll")&&($$(".navbar-current .center").text(""),setTimeout(function(){$$(".navbar-current .subnavbar").addClass("hidden")}),$$(".page-current.page--featured").removeClass("no-scroll"),$$(".page-current.page--featured").removeClass("no-transition")),$$(".page-current.page--featured .shrinkable-title").removeClass("no-shrink"),$$(".page-current.page--featured .page-content .searchbar").removeClass("hidden"),$$(".page-current.page--featured .page-content").scrollTop(0)},enable:function(){$$(".navbar-current").hasClass("navbar--search-focused")||($$(".navbar-current").addClass("navbar--search-focused"),$$(".page-current.page--featured").addClass("page--search-focused")),$$(".page-current.page--featured .shrinkable-title").addClass("no-shrink"),$$(".page-current.page--featured .page-content .searchbar").addClass("hidden")}}})}),$$(".page-current .searchbar input").on("focus",function(){$$(".navbar-current .center").text("Search"),app.navbar.show(),$$(".navbar-current .subnavbar").removeClass("hidden"),$$(".page-current.page--featured").addClass("no-scroll"),$$(".page-current.page--featured").addClass("no-transition"),searchbar.enable(),searchbar.search($$(this).val()),setTimeout(function(){$$(".navbar-current .subnavbar input").length>0&&$$(".navbar-current .subnavbar input")[0].focus()})}),$$(".navbar-current .subnavbar .searchbar").submit(function(e){e.preventDefault();var t=$$(this).find("input").val();t&&d(t)}),$$(".page-current.page--trending-search .page-content .list").on("click"," .item-title.search-term",function(){n($$(this).text())})}$$=Dom7,e.ajaxSetup({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}}),e.get(baseUrl+"api/announcement",function(t){if(t.data){app.toast.create({text:t.data.content,closeButton:!0,closeButtonText:"&times;",position:"top",on:{close:function(){e.post(baseUrl+"api/announcement",function(e){})}}}).open()}}),$$(document).on("orientationchange",t),t(),$$(document).on("click",".sign-in-btn",function(e){doLogin()}),$$(document).on("click",".btn-vip-required",function(e){app.toast.create({text:'Oops! Something went wrong!<br>It seems like your account is currently NOT ViP therefore it cannot download this Hack/App. If you want to gain access to this app, you will need to purchase ViP.<br><a href="https://iosgods.com/subscriptions" class="link col button button-fill button-round external" target="_blank">Purchase ViP Now</a>',closeButton:!0,closeButtonText:"&times;",position:"center",cssClass:"toast--vip"}).open()}),$$(document).on("popover:open",".popover-social",function(e){var t=location.href;t.indexOf("appdetails")<0&&(t=t.replace("/store/games",""),t=t.replace("/store","")),$$(".page-link__display__text").val(t)}),$$(document).on("click","ul.app-list .download-btn a",function(){var e=$$(this).data("url");app.router.navigate(e);var a=$$($$(".navbar")[1]);a.hasClass("no-shadow")&&a.removeClass("no-shadow"),t()}),$$(document).on("click",".popover-social .share-target .share-target__sites a",function(e){var t=location.href;t.indexOf("appdetails")<0&&(t=t.replace("/store/games",""),t=t.replace("/store",""));var a;a=$$(this).hasClass("btn-facebook")?"https://www.facebook.com/sharer.php?u="+encodeURIComponent(t):$$(this).hasClass("btn-twitter")?"https://twitter.com/intent/tweet?url="+encodeURIComponent(t)+"&amp;text="+encodeURIComponent("Check out this awesome app!"):"mailto:?subject=iOSGods Non-Jailbroken App Store&body=Check out this awesome app: "+t,window.open(a,"_blank")}),$$(document).on("click",".page-link__display",function(){var e=$$(this).find(".page-link__display__text")[0];if(navigator.userAgent.match(/ipad|ipod|iphone/i)){var t=e.contentEditable,a=e.readOnly;e.contentEditable=!0,e.readOnly=!1;var n=document.createRange();n.selectNodeContents(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),e.setSelectionRange(0,999999),e.contentEditable=t,e.readOnly=a}else e.select();document.execCommand("copy"),app.toast.create({text:"Copied to clipboard!",closeTimeout:2e3,position:"top"}).open(),setTimeout(function(){document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()})}),$$(document).on("click",".button-logout",function(){e.post(baseUrl+"api/logoutProcess",function(e){if($$(".page-current").hasClass("page--user-info"))app.router.navigate("/more-info",{reloadCurrent:!0,ignoreCache:!0});else{app.views.current.history[app.views.current.history.length-1];location.href=baseUrl}t()})}),$$(document).on("click",".btn-more-option",function(){var e=$$(this).hasClass("btn-login-required-option"),t=$$(this).hasClass("btn-vip-only-option");app.actions.create({buttons:[[{text:"Custom Duplicate Install",onClick:function(){if(e)window.location.href=$$(".btn-download").attr("href");else if(t){var a=app.toast.create({text:"This feature is ViP only!",position:"top",closeTimeout:2e3});a.open()}else $$(".page-current").find(".popup-duplicate-trigger").trigger("click")}}],[{text:"Cancel"}]]}).open()}),$$(document).on("click",".popup-duplicate .btn-submit",function(){var t=app.form.convertToData("#duplicate-form");if(t.bundle_identifier||t.bundle_name){app.popup.close(".popup-duplicate",!0);var a=$$(".app--detail__id").text(),n=$$(".page-current .app--detail .btn-download").attr("href");$$(".page-current .app--detail .btn-download").attr("href","#"),$$(".page-current .app--detail .btn-download").html('<i class="fa fa-circle-o-notch fa-spin"></i> Loading...'),e.ajax({method:"POST",url:baseUrl+"api/app/"+a+"/duplicate",data:t}).done(function(e){e.status&&($$(".page-current .app--detail .btn-download").attr("href",e.data.download_link),$$(".page-current .app--detail .btn-download").text("NEW INSTALL"))}).fail(function(){app.toast.create({text:"Something is wrong while duplicating.",position:"top",closeTimeout:2e3}).open(),$$(".page-current .app--detail .btn-download").attr("href",n),$$(".page-current .app--detail .btn-download").text("INSTALL")})}else{app.toast.create({text:"Please fill in at least one of the fields.",position:"top",closeTimeout:2e3}).open()}}),$$(document).on("submit",".searchbar",function(e){e.preventDefault();var t=$$(this).find(".input-with-value").val();$$(".search-list .search-custom-term .item-title").text(t),$$(".search-list .search-custom-term a").attr("href","/search/"+t).click()}),e("#delete-app").on("show.bs.modal",function(t){e(document).data("cur-row",e(t.relatedTarget).parents("tr"));var a=e(t.relatedTarget).data("app-id");e(t.currentTarget).find('input[name="app-id"]').val(a)}),e(".delete-app-btn").on("click",function(t){var a=e(this).parents(".modal-content").find('input[name="app-id"]').val();e.ajax({method:"POST",url:baseUrl+"api/delete",data:{appId:a}}).done(function(t){e.parseJSON(t);e(document).data("cur-row").slideUp("slow")})}),$$(document).on("click",".btn-download",function(t){if(!$$(this).hasClass("btn-vip-required")&&!$$(this).hasClass("btn-authenticate"))if(navigator.userAgent.match(/ipad|ipod|iphone/i)){var a=e(this).data("app-id");e.ajax({method:"GET",url:baseUrl+"api/addAnalytics",data:{appId:a},success:function(e){var t="localhost"!==location.hostname?location.pathname.split("/store")[1]:location.pathname;app.router.navigate(t,{reloadCurrent:!0,ignoreCache:!0})}})}else{var n=app.toast.create({text:"Please visit us using your iOS device in order to download this app. Alternatively, you can download apps using your computer by visiting Our Community.",position:"top",closeButton:!0,closeButtonText:"Understood!"});n.open()}}),c(),$$(document).on("page:init",function(){$$(".navbar-current .center").text("")}),$$(document).on("page:afterin",function(e){var t=app.views.current.history;window.history.pushState("","",("localhost"===location.hostname?"":"/store")+t[t.length-1]),l(t[t.length-1]),c()}),iNoBounce.enable()});
